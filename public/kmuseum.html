<!doctype html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/public/src/css/app.css">
    <title>Kelvingrove</title>

    <!--<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">-->
    <!--<link rel="stylesheet" href="./src/css/app.css">-->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Kelvingrove">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-57x57.png" sizes="57x57">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-60x60.png" sizes="60x60">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-72x72.png" sizes="72x72">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-76x76.png" sizes="76x76">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-114x114.png" sizes="114x114">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-144x144.png" sizes="144x144">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="./src/images/icons/park-icon-180x180.png" sizes="180x180">
    <meta name="msapplication-TileImage" content="/src/images/icons/paark-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#fff">
    <meta name="theme-color" content="#3f51b5">
    <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyALWNpFjLKj7ntEJbHeXD-RHPYveuLVeHg",
            authDomain: "reservationdatabase1.firebaseapp.com",
            databaseURL: "https://reservationdatabase1.firebaseio.com",
            projectId: "reservationdatabase1",
            storageBucket: "reservationdatabase1.appspot.com",
            messagingSenderId: "261378902017"
        };
        firebase.initializeApp(config);

    </script>

</head>

<body>
<!-- NAV -->
<nav style="background-color: #3f51b5;" class="navbar navbar-expand-md fixed-top">
    <img class="img-fluid" height="40px" width="40px" src="src/images/index/kelvingroveicon.png">   <a style="color: white;" class="navbar-brand" href="#">	&nbsp; Kelvingrove Park</a>
    <button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a style="color: white;" class="nav-link" href="activities.html">Activities</a>
            </li>
            <li  class="nav-item">
                <a style="color: white;" class="nav-link" href="events.html">Events</a>
            </li>
            <li class="nav-item">
                <a style="color: white;" class="nav-link " href="walk.html">Walks</a>
            </li>
            <li class="nav-item">
                <a style="color: white;" class="nav-link " href="news.html">News</a>
            </li>
            <li class="nav-item">
                <a style="color: white;" class="nav-link " href="help.html">Contact Us</a>
            </li>
        </ul>
        <form class="form-inline mt-2 mt-md-0">
            <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search" id="divID1">
            <button style="color: white;" class="btn btn-outline-secondary my-2 my-sm-0" type="button" onclick="findInPage();">Search</button>
        </form>
    </div>
</nav>

<br>
<br>

<div id="app">
    <!-- THINGS TO DO INFO -->
        <main class="container">
            <div style="background-color: white;  padding-bottom: 10px; border-radius: 10px;" class="container">
            <h1 class="my-4" style="padding-top: 10px">Kelvingrove Art Gallery and Museum
            </h1>
            <div class="row" style="padding-bottom: 10px;">
                <div class="col-md-7">
                    <img class="img-fluid" src="./src/images/fad/museum.jpg" alt="">
                </div>
                <div class="col-md-5">
                    <h3 class="my-3">Museum</h3>
                    <p>Kelvingrove Art Gallery and Museum is one of Scotland's most popular free attractions and features 22 themed, state-of-the-art galleries displaying an astonishing 8000 objects. The collections at Kelvingrove are extensive, wide-ranging and internationally significant.</p>
                    <h3 class="my-3">Opening Times</h3>
                    <ul>
                        <li> Monday   12:00 PM   -   12:00 AM</li>
                        <li> Tuesday   12:00 PM   -   12:00 AM</li>
                        <li> Wednesday   12:00 PM   -   12:00 AM</li>
                        <li>Thursday   12:00 PM   -   12:00 AM</li>
                        <li> Friday   12:00 PM   -   12:00 AM</li>
                        <li>Saturday   11:00 AM   -   12:00 AM</li>
                        <li>Sunday   11:00 AM   -   12:00 AM</li>
                    </ul>

                </div>
            </div>
            </div>
            <br>

            <!-- CLICKABLE ICONS -->
          <div class="container">
              <div class="row" >
                   <div class="card col-lg-1 col-sm-6" style="background-color: white; border-radius: 10px; width: 6em; border: none;" onclick="window.open('tel:900300400');">
                       <img class="card-img-top img-fluid"  style="display:block;margin-left:auto;margin-right:auto;width:6em;" src="./src/images/fad/phone.png" alt="Card image cap">
                   </div>

                   <div class="card col-lg-1 col-sm-6" style="width: 6em; border: none; ">
                       <a href="https://www.brewdog.com/bars/uk/brewdog-glasgow">
                           <img class="card-img-top img-fluid" style="display:block;margin-left:auto;margin-right:auto;width:6em;" src="./src/images/fad/web.png" alt="Card image cap">
                       </a>
                   </div>


              </div>
           </div>

            <br>




            <div id="grouptour" class="card col-lg-4 col-sm-12" >
                <img class="card-img-top" src="./src/images/fad/tour.jpg" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">Group Tour</h5>
                    <p class="card-text">Book a private tour of the collection.</p>
                    <button data-toggle="modal" data-target="#exampleModal" class="btn btn-secondary align-middle btn-block">Book</button>
                </div>
            </div>

            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Group Tour</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form action="http://127.0.0.1:8080/KgMuseum.html?" method="POST" >
                            <div class="modal-body">

                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="container">
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Event</label>
                                                <div class="col-md-10 inputGroupContainer">
                                                    <div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-list-alt"></i></span><input type="text" class="form-control" name="event" id="event" value="Group Tour" readonly/></td></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Date</label>
                                                <div class="col-md-10 inputGroupContainer">
                                                    <div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span><input id="date" name="addressLine1" placeholder="" class="form-control" value="" type="date" required/></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Name</label>
                                                <div class="col-md-10 inputGroupContainer">
                                                    <div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span><input id="user_name" name="addressLine2" placeholder="Name" class="form-control" value="" type="text" required/></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Email</label>
                                                <div class="col-md-10 inputGroupContainer">
                                                    <div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span><input id="reserve_email" name="city" placeholder="Email" class="form-control" value="" type="text" required/></div>
                                                </div>
                                            </div>
                                            <div class="text-center">
                                                <input class="col-6 btn-lg btn-secondary" type="submit" value="Complete Reservation" onclick="submitReservation(event);" />
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>



                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- REVIEW BUTTON AND TABLE -->
            <hr class="featurette-divider">
            <!--https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_accordion-->
            <h3 class="my-4">Reviews</h3>
            <div>
                <button id="buttonOffline" data-toggle="modal" data-target="#modal3" class="btn btn-secondary col-lg-4 col-sm-12">Create Review</button>
                <br>
                <button class="accordion">See Reviews</button>
                <div class="panel">
                    <div id="comments_table"></div>
                </div>
            </div>

            <!-- REVIEW MODAL -->
            <div class="modal fade" id="modal3" tabindex="-1" role="dialog" aria-labelledby="modal3label" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="modal3label">Review</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <form action="http://127.0.0.1:8080/events.html?" method="POST" >
                            <div class="modal-body">

                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="container">
                                            <div class="form-group">

                                                <div class="col-md-12 inputGroupContainer">
                                                    <div class="form-group">

                                                        <div class="col-md-12 inputGroupContainer">
                                                            <div class="input-group"><input id="user_name" placeholder="Name" class="form-control" type="text" required/></div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">

                                                        <div class="col-md-12 inputGroupContainer">
                                                            <div class="input-group"><textarea rows="5" cols="50" id="comment" placeholder="Comment" class="form-control"></textarea>
                                                        </div>
                                                    </div>

                                                    <div class="form-group" style=" padding-left: 15px; padding-top: 10px;">
                                                        <input style="background-color: #F2F2F1; color: #555;" id="submitButton" class="btn" type="button" value="Submit" onclick="submitComment(event);" />

                                                    </div>
                                                </div>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>



                            </div>

                        </form>
                    </div>
                </div>
            </div>



            <style>
                #map {
                    height: 425px;
                }
                /* Optional: Makes the sample page fill the window. */
                html, body {
                    height: 100%;
                    margin: 0;
                    padding: 0;
                }
            </style>

            <hr class="featurette-divider">
            <h3 class="my-4">Location</h3>
            <p>The museum is located at the west entrance of the park, on Argyle Street.</p>
            <button class="btn btn-secondary col-lg-4 col-sm-12" onclick="showMap()">Get Directions</button>
            <!--<button class="btn btn-secondary accordion " onclick="showMap()">Get Directions</button>-->
            <br>
            <!--<div class="panel">-->
            <div>
                <div id="map"></div>
                <div id="map-directions"></div>
            </div>


            <!-- /.row -->
        </main>
    </div>

<br>

<a href="#">
    <img style="display:block;margin-right:auto; margin-left:auto; margin-bottom:25px; height:50px; width:50px;" src="src/images/fad/arrow.png">
</a>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->

<script>
    function showMap() {
        var directionsService = new google.maps.DirectionsService(),
            directionsDisplay = new google.maps.DirectionsRenderer(),
            createMap = function (start) {
                var travel = {
                        origin : (start.coords)? new google.maps.LatLng(start.lat, start.lng) : start.address,
                        destination : "55.868516, -4.290778",
                        travelMode : google.maps.DirectionsTravelMode.WALKING
                        // using walking
                    },
                    mapOptions = {
                        zoom: 10,
                        // Default view: downtown Stockholm
                        center : new google.maps.LatLng(55.8682997, -4.2941348),
                        mapTypeId: google.maps.MapTypeId.SATELLITE
                    };

                map = new google.maps.Map(document.getElementById("map"), mapOptions);
                directionsDisplay.setMap(map);
                directionsDisplay.setPanel(document.getElementById("map-directions"));
                directionsService.route(travel, function(result, status) {
                    if (status === google.maps.DirectionsStatus.OK) {
                        directionsDisplay.setDirections(result);
                    }
                });
            };

        // Check for geolocation support
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                    // Success!
                    createMap({
                        coords : true,
                        lat : position.coords.latitude,
                        lng : position.coords.longitude
                    });
                },
                function () {
                    // Gelocation fallback
                    createMap({
                        coords : false,
                        address : "Kelvingrove Park, Scotland"
                    });
                }
            );
        }
        else {
            // No geolocation fallback
            createMap({
                coords : false,
                address : "Kelvingrove Park, Scotland"
            });
        }
    };
</script>
<script>
    //https://developer.mozilla.org/en-US/docs/Web/API/NavigatorOnLine/Online_and_offline_events
    window.addEventListener('load', function() {

       // var a = []
      //  a.forEach();

        function updateOnlineStatus() {
            var condition = navigator.onLine ? "online" : "offline";

            if (condition == "offline"){
                document.getElementById("user_name").readOnly = true;
            }

            if (condition == "offline"){
                document.getElementById("comment").readOnly = true;
            }

            if (condition == "online"){
                document.getElementById("user_name").readOnly = false;
            }

            if (condition == "online"){
                document.getElementById("comment").readOnly = false;
            }

            if (condition == "offline"){
                document.getElementById("submitButton").disabled = true;
            }

            if (condition == "online"){
                document.getElementById("submitButton").disabled = false;
            }

            if (condition == "offline"){
                document.getElementById("submitButton").disabled = true;
            }

            if (condition == "online"){
                document.getElementById("submitButton").disabled = false;
            }

        }

        window.addEventListener('online',  updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);
    });
</script>


<script src="./src/js/promise.js"></script>
<script src="./src/js/fetch.js"></script>
<script src="./src/js/app.js"></script>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBcR7c04S5Ubb9yciwpfN56ofJwONci0R0"></script>
<script src="reservation.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<!--Scripts for to do list-->
<script src="src/js/todo/todoDB.js"></script>
<script src="./src/js/todo/todo.js"></script>

<!--Script for reviews accordion-->
<script>
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.display === "block") {
                panel.style.display = "none";
            } else {
                panel.style.display = "block";
            }
        });
    }
</script>

<style>

    .panel {
        padding: 0 18px;
        display: none;
        background-color: white;
        overflow: hidden;
    }

    .accordion {
        background-color: #eee;
        color: #444;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 15px;
        transition: 0.4s;
    }

    .active, .accordion:hover {
        background-color: #ccc;
    }

    #comments_table{
        list-style: none;
        padding: 0.5em 1em;
        margin: 0;
    }

    #comments_table li {
        font-size: 0.9em;
        padding: 0.5em;
        background: #FFF;
        border-bottom: 1px solid #EEE;
        margin: 0.5em 0;
    }



    body {

        color: #545454;
        background: #F7F7F7;
    }



</style>

</body>
</html>